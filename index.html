<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title> Nandhana & Sanjiv — Our Wedding</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;1,300&family=Playfair+Display:ital,wght@0,400;1,400&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="mural-background"></div>
    <div class="paper-overlay"></div>
    <main class="main-wrapper">
      <header class="site-nav">
        <nav>
          <ul>
            <li><a href="#home">HOME</a></li>
            <li><a href="#events">EVENTS</a></li>
            <li><a href="#rsvp">RSVP</a></li>
          </ul>
        </nav>
      </header>

      <div class="ganesha-top-bg">
       <img src="images/ganesha.svg" alt="Ganesha Icon">
      </div>

      <section id="home" class="hero">
        <div class="hero-card">
          <div class="names-row">
            <h1 class="names-display">
              <span class="name-top">Nandhana</span>
              <span class="amp">&</span>
              <span class="name-bottom">Sanjiv</span>
            </h1>
          </div>
          <div class="hero-info-stack">
            <p class="hero-date">29 AUGUST 2026</p>
            <p class="hero-location">PAYYANUR, KERALA</p>
          </div>
          <div class="kasavu-accent"></div>
          <div class="kasavu-accent"></div>
        </div>
        
        <div class="countdown-bar">
          <div class="count-item"><span id="days">00</span><label>Days</label></div>
          <div class="count-item"><span id="hours">00</span><label>Hrs</label></div>
          <div class="count-item"><span id="minutes">00</span><label>Mins</label></div>
        </div>
      </section>

      <section id="events" class="events-section">
        <h2 class="section-title">Schedule of Events</h2>
        <div class="event-grid">
          <div class="event-box">
            <span class="event-label">FRIDAY, AUG 28</span>
            <h3>Sangeeth</h3>
            <p>11:30 AM · River Creek</p>
            <a href="https://maps.app.goo.gl/RWNEVyqqwEvSg2my7" target="_blank" class="map-btn">View on Map</a>
          </div>

          <div class="event-box main-event">
            <span class="event-label">SATURDAY, AUG 29</span>
            <h3>Wedding Muhurtham</h3>
            <p>11:30 AM · Ayodhya Auditorium</p>
            <a href="https://maps.app.goo.gl/hFAppUajixqds8459" target="_blank" class="map-btn">View on Map</a>
            <div class="kasavu-accent"></div>
          </div>

          <div class="event-box">
            <span class="event-label">FRIDAY, SEPT 04</span>
            <h3>Reception</h3>
            <p>7:00 PM · Location TBD</p>
            <span class="map-btn disabled">TBD</span>
          </div>
        </div>
      </section>

      <section id="rsvp" class="rsvp-section">
        <div class="rsvp-card">
          <h2>RSVP</h2>
          <form action="https://docs.google.com/forms/d/e/1FAIpQLSd4uz7SgpTVBNQTncGWmpvTUQr53lzwjSpaETrtydIZv3HTVw/formResponse" method="POST" id="rsvp-form" target="hidden_iframe">
            <input type="text" name="entry.1466417396" placeholder="Your Full Name" required>
            <input type="text" name="entry.1156887547" placeholder="Contact Number?" required>
            
            <select name="entry.877086558" required>
              <option value="" disabled selected>Are you coming?</option>
              <option value="Yes">Yes!</option>
              <option value="No">No</option>
              <option value="Maybe">Maybe</option>
            </select>

            <select name="entry.973692904" required>
              <option value="" disabled selected>How many are you?</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>

            <div class="rsvp-dropdown-wrapper">
              <div class="custom-multiselect">
                <div class="select-box" onclick="toggleCheckboxArea()">
                  <span id="select-label">Events you plan to attend?</span>
                  <span class="arrow-icon">▾</span>
                </div>
                <div id="checkboxes-area" class="checkbox-options" style="display: none;">
                  <label><input type="checkbox" class="event-option" value="Sangeeth" onchange="updateLabel()"> Sangeeth</label>
                  <label><input type="checkbox" class="event-option" value="Wedding" onchange="updateLabel()"> Wedding</label>
                  <label><input type="checkbox" class="event-option" value="Reception" onchange="updateLabel()"> Reception</label>
                </div>
              </div>
              <input type="hidden" name="entry.734955195" id="final-events-value">
            </div>

            <select name="entry.305230036" required>
              <option value="" disabled selected>Are you a friend of Sanjiv, Nandhana, or both?</option>
              <option value="Sanjiv">Sanjiv</option>
              <option value="Nandhana">Nandhana</option>
              <option value="Both">Both</option>
            </select>

            <button type="submit">Submit</button>
          </form>
          <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" onload="if(submitted){handleFormSuccess();}"></iframe>
          <div id="thank-you-msg" style="display:none;">Response Received.</div>
        </div>
      </section>

      <footer>
        <div class="footer-content">
          <div class="footer-line"></div>
          <p class="footer-names">
            - S <span class="amp">&</span> N <span class="heart">❤</span>
          </p>
        </div>
      </footer>
    </main>

    <script>
      var submitted = false;
      
      function handleFormSuccess() {
        if(submitted) {
          document.getElementById('rsvp-form').style.opacity = '0';
          setTimeout(() => {
            document.getElementById('rsvp-form').style.display = 'none';
            document.getElementById('thank-you-msg').style.display = 'block';
            document.getElementById('thank-you-msg').innerHTML = "<h3>See you there!</h3><p>Your RSVP has been sent.</p>";
          }, 500);
        }
      }

      document.getElementById('rsvp-form').onsubmit = function() { submitted = true; };

      (function(){
        const target = new Date(2026, 7, 29, 11, 30, 0);
        const update = () => {
          const now = new Date(); let diff = target - now;
          if(diff <= 0) return;
          document.getElementById('days').innerText = String(Math.floor(diff / (1000*60*60*24))).padStart(2,'0');
          document.getElementById('hours').innerText = String(Math.floor((diff / (1000*60*60)) % 24)).padStart(2,'0');
          document.getElementById('minutes').innerText = String(Math.floor((diff / 1000 / 60) % 60)).padStart(2,'0');
        };
        setInterval(update, 1000); update();
      })();

      function toggleCheckboxArea() {
        const area = document.getElementById("checkboxes-area");
        area.style.display = area.style.display === "block" ? "none" : "block";
      }

      function updateLabel() {
        const checkboxes = document.querySelectorAll(".event-option");
        const label = document.getElementById("select-label");
        const hiddenInput = document.getElementById("final-events-value");
        
        let selected = [];
        checkboxes.forEach((cb) => {
          if (cb.checked) selected.push(cb.value);
        });

        if (selected.length > 0) {
          label.innerText = selected.join(", ");
          label.style.color = "#333"; 
          hiddenInput.value = selected.join(", ");
        } else {
          label.innerText = "Events you plan to attend?";
          label.style.color = "#757575"; 
          hiddenInput.value = "";
        }
      }

      window.addEventListener('click', function(e) {
        if (!document.querySelector('.custom-multiselect').contains(e.target)) {
          document.getElementById("checkboxes-area").style.display = "none";
        }
      });
    </script>
  </body>
</html>